// var immg = new Image;
// ssrc="bomb.png"
// immg.src = ssrc;
var Game = {
    init: function() {}
}

var Game = {
    display: null,
 
    init: function() {
        this.display = new ROT.Display();
        document.body.appendChild(this.display.getContainer());
	Game._generateMap();
	Game._drawWholeMap();
    }
}


Game.map = {};
Game._generateMap = function() {
    var digger = new ROT.Map.Digger();
 
    var digCallback = function(x, y, value) {
        if (value) { return; } /* do not store walls */
 
        var key = x+","+y;
        this.map[key] = "bomb.png";//"o";
    }
    digger.create(digCallback.bind(this));
}


Game._drawWholeMap = function() {
    console.log("done");
    for (var key in this.map) {
        var parts = key.split(",");
        var x = parseInt(parts[0]);
        var y = parseInt(parts[1]);
	// this.display._spacingX = 64;
	// this.display._spacingY = 64;
        this.display.drawImage(x, y,this.map[key]);
	
	//this.display.draw(x, y, "x" );

    }
}
